---
title:  "[Intermediate] ì •ê·œ í‘œí˜„ì‹ re"
toc: true
toc_sticky: true
header:
  teaser: /assets/images/python.png

categories:
  - intermediate
tags:
  - Python
last_modified_at: 2021-03-26
---  



## ì •ê·œí‘œí˜„ì‹ re 
ì •ê·œ í‘œí˜„ì‹(Regular Expressions)ì€ ë³µì¡í•œ ë¬¸ìì—´ì„ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ì´ë‹¤.  
ë§Œì•½ ì°¾ìœ¼ë ¤ëŠ” ë¬¸ìì—´ ë˜ëŠ” ë°”ê¾¸ì–´ì•¼ í•  ë¬¸ìì—´ì˜ ê·œì¹™ì´ ë§¤ìš° ë³µì¡í•˜ë‹¤ë©´ ì •ê·œì‹ì˜ íš¨ìš©ì€ ë” ì»¤ì§€ê²Œ ëœë‹¤.  
íŒŒì´ì¬ì€ ì •ê·œ í‘œí˜„ì‹ì„ ì§€ì›í•˜ê¸° ìœ„í•´ re(regular expressionì˜ ì•½ì–´) ëª¨ë“ˆì„ ì œê³µí•œë‹¤.  
   

ì‚¬ìš© ë°©ë²•
```python
>>> import re
>>> p = re.compile('ab*') # aë¡œ ì‹œì‘í•˜ë©° bê°€ 0ë²ˆ ì´ìƒ ë°˜ë³µë˜ëŠ” ë¬¸ìì—´
>>> p = re.compile('[a-z]+') # ì†Œë¬¸ì ì•ŒíŒŒë²³ì´ 1ë²ˆì´ìƒ ë°˜ë³µë˜ëŠ” ë¬¸ìì—´
```  

ì´ì œ ì»´íŒŒì¼ëœ íŒ¨í„´ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ìì—´ ê²€ìƒ‰ì„ ìˆ˜í–‰í•´ ë³´ì. ì»´íŒŒì¼ëœ íŒ¨í„´ ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ 4ê°€ì§€ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.  

|Method|ëª©ì |
|:---:|:---|
|match()|ë¬¸ìì—´ì˜ ì²˜ìŒë¶€í„° ì •ê·œì‹ê³¼ ë§¤ì¹˜ë˜ëŠ”ì§€ ì¡°ì‚¬í•´ ì •ê·œì‹ê³¼ ë§¤ì¹˜ë  ë•ŒëŠ” match ê°ì²´ë¥¼ ëŒë ¤ì£¼ê³ , ë§¤ì¹˜ë˜ì§€ ì•Šì„ ë•ŒëŠ” Noneì„ ëŒë ¤ì¤€ë‹¤. |
|search()|ë¬¸ìì—´ ì „ì²´ë¥¼ ê²€ìƒ‰í•˜ì—¬ ì •ê·œì‹ê³¼ ë§¤ì¹˜ë˜ëŠ”ì§€ ì¡°ì‚¬í•´ ì •ê·œì‹ê³¼ ë§¤ì¹˜ë  ë•ŒëŠ” match ê°ì²´ë¥¼ ëŒë ¤ì£¼ê³ , ë§¤ì¹˜ë˜ì§€ ì•Šì„ ë•ŒëŠ” Noneì„ ëŒë ¤ì¤€ë‹¤.|
|findall()|ì •ê·œì‹ê³¼ ë§¤ì¹˜ë˜ëŠ” ëª¨ë“  ë¬¸ìì—´(substring)ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ëŒë ¤ì¤€ë‹¤.|
|finditer()|ì •ê·œì‹ê³¼ ë§¤ì¹˜ë˜ëŠ” ëª¨ë“  ë¬¸ìì—´(substring)ì„ ë°˜ë³µ ê°€ëŠ¥í•œ match ê°ì²´ë¥¼ ëŒë ¤ì¤€ë‹¤.|  

í•˜ë‚˜ì”© ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.  

### match  


```python
>>> import re
>>> p = re.compile('[a-z]+')
```
```python
>>> m = p.match("python")
>>> print(m)
<_sre.SRE_Match object at 0x01F3F9F8>
```
"python" ë¬¸ìì—´ì€ [a-z]+ ì •ê·œì‹ì— ë¶€í•©ë˜ë¯€ë¡œ match ê°ì²´ë¥¼ ëŒë ¤ì¤€ë‹¤.  
```python
>>> m = p.match("3 python")
>>> print(m)
None
```  
"3 python" ë¬¸ìì—´ì€ ì²˜ìŒì— ë‚˜ì˜¤ëŠ” ë¬¸ì 3ì´ ì •ê·œì‹ [a-z]+ì— ë¶€í•©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ Noneì„ ëŒë ¤ì¤€ë‹¤.  

### search  
ì»´íŒŒì¼ëœ íŒ¨í„´ ê°ì²´ pë¥¼ ê°€ì§€ê³  ì´ë²ˆì—ëŠ” search ë©”ì„œë“œë¥¼ ìˆ˜í–‰í•´ ë³´ì.  

```python
>>> m = p.search("python")
>>> print(m)
<_sre.SRE_Match object at 0x01F3FA68>
```
"python" ë¬¸ìì—´ì— search ë©”ì„œë“œë¥¼ ìˆ˜í–‰í•˜ë©´ match ë©”ì„œë“œë¥¼ ìˆ˜í–‰í–ˆì„ ë•Œì™€ ë™ì¼í•˜ê²Œ ë§¤ì¹˜ëœë‹¤.  

```python
>>> m = p.search("3 python")
>>> print(m)
<_sre.SRE_Match object at 0x01F3FA30>
```
"3 python" ë¬¸ìì—´ì˜ ì²« ë²ˆì§¸ ë¬¸ìëŠ” "3"ì´ì§€ë§Œ searchëŠ” ë¬¸ìì—´ì˜ ì²˜ìŒë¶€í„° ê²€ìƒ‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼  
ë¬¸ìì—´ ì „ì²´ë¥¼ ê²€ìƒ‰í•˜ê¸° ë•Œë¬¸ì— "3 " ì´í›„ì˜ "python" ë¬¸ìì—´ê³¼ ë§¤ì¹˜ëœë‹¤.  
ì´ë ‡ë“¯ match ë©”ì„œë“œì™€ search ë©”ì„œë“œëŠ” ë¬¸ìì—´ì˜ ì²˜ìŒë¶€í„° ê²€ìƒ‰í• ì§€ì˜ ì—¬ë¶€ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  

### match ê°ì²´ì˜ ë©”ì„œë“œ  

ì, ì´ì œ match ë©”ì„œë“œì™€ search ë©”ì„œë“œë¥¼ ìˆ˜í–‰í•œ ê²°ê³¼ë¡œ ëŒë ¤ì¤€ match ê°ì²´ì— ëŒ€í•´ ì•Œì•„ë³´ì.  

|Method|ëª©ì |
|:---:|:---|
|group()|ë§¤ì¹˜ëœ ë¬¸ìì—´ì„ ëŒë ¤ì¤€ë‹¤.|
|start()|ë§¤ì¹˜ëœ ë¬¸ìì—´ì˜ ì‹œì‘ ìœ„ì¹˜ë¥¼ ëŒë ¤ì¤€ë‹¤.|
|end()|ë§¤ì¹˜ëœ ë¬¸ìì—´ì˜ ë ìœ„ì¹˜ë¥¼ ëŒë ¤ì¤€ë‹¤.|
|span()|ë§¤ì¹˜ëœ ë¬¸ìì—´ì˜ (ì‹œì‘, ë)ì— í•´ë‹¹í•˜ëŠ” íŠœí”Œì„ ëŒë ¤ì¤€ë‹¤.|  

```python
>>> m = p.match("python")
>>> m.group()
'python'
>>> m.start()
0
>>> m.end()
6
>>> m.span()
(0, 6)
```
```python
>>> m = p.search("3 python")
>>> m.group()
'python'
>>> m.start()
2
>>> m.end()
8
>>> m.span()
(2, 8)
```

ğŸ”” ì¶•ì•½ í˜•íƒœ  
```python
>>> m = re.match('[a-z]+', "python")
```

### findall  
```python
>>> result = p.findall("life is too short")
>>> print(result)
['life', 'is', 'too', 'short']
```

### finditer
```python
>>> result = p.finditer("life is too short")
>>> print(result)
<callable_iterator object at 0x01F5E390>
>>> for r in result: print(r)
...
<_sre.SRE_Match object at 0x01F3F9F8>
<_sre.SRE_Match object at 0x01F3FAD8>
<_sre.SRE_Match object at 0x01F3FAA0>
<_sre.SRE_Match object at 0x01F3F9F8>
```
finditerëŠ” findallê³¼ ë™ì¼í•˜ì§€ë§Œ ê·¸ ê²°ê³¼ë¡œ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´(iterator object)ë¥¼ ëŒë ¤ì¤€ë‹¤. ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ê°€ í¬í•¨í•˜ëŠ” ê°ê°ì˜ ìš”ì†ŒëŠ” match ê°ì²´ì´ë‹¤.

### ë©”íƒ€ ë¬¸ì  
ì •ê·œ í‘œí˜„ì‹ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©”íƒ€ ë¬¸ì(meta characters)ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²ƒì´ ìˆë‹¤.  

â€» ë©”íƒ€ ë¬¸ìë€ ì›ë˜ ê·¸ ë¬¸ìê°€ ê°€ì§„ ëœ»ì´ ì•„ë‹Œ íŠ¹ë³„í•œ ìš©ë„ë¡œ ì‚¬ìš©í•˜ëŠ” ë¬¸ìë¥¼ ë§í•œë‹¤.  

[ ] . * + { }  ? | ^ $ \ ( ) 
{: .notice--primary}
### []
[ ] ì‚¬ì´ì˜ ë¬¸ìë“¤ê³¼ ë§¤ì¹˜  
ë¬¸ì í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ë©”íƒ€ ë¬¸ìì¸ [ ] ì‚¬ì´ì—ëŠ” ì–´ë–¤ ë¬¸ìë„ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤.  
ì¦‰ ì •ê·œ í‘œí˜„ì‹ì´ [abc]ë¼ë©´ ì´ í‘œí˜„ì‹ì˜ ì˜ë¯¸ëŠ” "a, b, c ì¤‘ í•œ ê°œì˜ ë¬¸ìì™€ ë§¤ì¹˜  
[ ] ì•ˆì˜ ë‘ ë¬¸ì ì‚¬ì´ì— í•˜ì´í”ˆ(-)ì„ ì‚¬ìš©í•˜ë©´ ë‘ ë¬¸ì ì‚¬ì´ì˜ ë²”ìœ„(From - To)ë¥¼ ì˜ë¯¸í•œë‹¤.  
ì˜ˆë¥¼ ë“¤ì–´ [a-c]ë¼ëŠ” ì •ê·œ í‘œí˜„ì‹ì€ [abc]ì™€ ë™ì¼í•˜ê³  [0-5]ëŠ” [012345]ì™€ ë™ì¼í•˜ë‹¤.
* [a-zA-Z] : ì•ŒíŒŒë²³ ëª¨ë‘  
* [0-9] : ìˆ«ì  

### .  
ì •ê·œ í‘œí˜„ì‹ì˜ Dot(.) ë©”íƒ€ ë¬¸ìëŠ” ì¤„ë°”ê¿ˆ ë¬¸ìì¸ \nì„ ì œì™¸í•œ ëª¨ë“  ë¬¸ìì™€ ë§¤ì¹˜ë¨ì„ ì˜ë¯¸í•œë‹¤.  

a.b ==> aab, a0b, a#b, a&b



a[.]b ==> a.b



### *
*ë¬¸ìëŠ” ë°”ë¡œ ì•ì— ìˆëŠ” ë¬¸ìê°€ 0ë²ˆ ì´ìƒ ë°˜ë³µë  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.  
ca*t  ==> ct, cat, caat, caaaaaat


### +
+ë¬¸ìëŠ” ë°”ë¡œ ì•ì— ìˆëŠ” ë¬¸ìê°€ 1ë²ˆ ì´ìƒ ë°˜ë³µë  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.  
ca+t  ==> cat, caat, caaaaaat  

### {}
{m, n}ë¬¸ìëŠ” ì•ì— ìˆëŠ” ë¬¸ìê°€ më²ˆ ì´ìƒ ë°˜ë³µ në²ˆ ì´í•˜ ë°˜ë³µí•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.
ca{2}t ==> caat  
ca{,3}t ==> ct, cat, caat, caaat  
ca{2,5}t ==> caat, caaat, caaaat, caaaaat  

### ?
? ë©”íƒ€ë¬¸ìê°€ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ {0, 1} ì´ë‹¤.  
ab?c ==> ac, abc

### |
| ë©”íƒ€ ë¬¸ìëŠ” orê³¼ ë™ì¼í•œ ì˜ë¯¸ë¡œ ì‚¬ìš©ëœë‹¤. A|Bë¼ëŠ” ì •ê·œì‹ì´ ìˆë‹¤ë©´ A ë˜ëŠ” Bë¼ëŠ” ì˜ë¯¸ê°€ ëœë‹¤.  
```python
>>> p = re.compile('Crow|Servo')
>>> m = p.match('CrowHello')
>>> print(m)
<re.Match object; span=(0, 4), match='Crow'>
```

### ^  
^ ë©”íƒ€ ë¬¸ìëŠ” ë¬¸ìì—´ì˜ ë§¨ ì²˜ìŒê³¼ ì¼ì¹˜í•¨ì„ ì˜ë¯¸í•œë‹¤.  
```python
>>> print(re.search('^Life', 'Life is too short'))
<re.Match object; span=(0, 4), match='Life'>
>>> print(re.search('^Life', 'My Life'))
None

```

### $  
$ ë©”íƒ€ ë¬¸ìëŠ” ^ ë©”íƒ€ ë¬¸ìì™€ ë°˜ëŒ€ì˜ ê²½ìš°ì´ë‹¤. ì¦‰ $ëŠ” ë¬¸ìì—´ì˜ ëê³¼ ë§¤ì¹˜í•¨ì„ ì˜ë¯¸í•œë‹¤.  
```python
>>> print(re.search('short$', 'Life is too short'))
<re.Match object; span=(12, 17), match='short'>
>>> print(re.search('short$', 'Life is too short, you need python'))
None
```
â€» ^ ë˜ëŠ” $ ë¬¸ìë¥¼ ë©”íƒ€ ë¬¸ìê°€ ì•„ë‹Œ ë¬¸ì ê·¸ ìì²´ë¡œ ë§¤ì¹˜í•˜ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” \ ^, \ $ ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

### \
\d ==> ìˆ«ìì™€ ë§¤ì¹˜, [0-9]ì™€ ë™ì¼í•œ ì˜ë¯¸  
\w ==> ë¬¸ì+ìˆ«ì(alphanumeric)ì™€ ë§¤ì¹˜, [a-zA-Z0-9_]ì™€ ë™ì¼í•œ ì˜ë¯¸  
\s ==> whitespace ë¬¸ìì™€ ë§¤ì¹˜, [ \t\n\r\f\v]ì™€ ë™ì¼í•œ í‘œí˜„ì‹ì´ë‹¤. ë§¨ ì•ì˜ ë¹ˆ ì¹¸ì€ ê³µë°±ë¬¸ì(space)ë¥¼ ì˜ë¯¸  
\b ==> \bëŠ” ë‹¨ì–´ êµ¬ë¶„ì(Word boundary)ì´ë‹¤. ë³´í†µ ë‹¨ì–´ëŠ” whitespaceì— ì˜í•´ êµ¬ë¶„ëœë‹¤.  

```python
>>> p = re.compile(r'\bclass\b')
>>> print(p.search('no class at all'))  
<re.Match object; span=(3, 8), match='class'>

>>> print(p.search('the declassified algorithm'))
None
```

â€» \D, \W, \S \B (ëŒ€ë¬¸ì)ëŠ” ì†Œë¬¸ìì™€ ë°˜ëŒ€ë˜ëŠ” ì˜ë¯¸ë¥¼ ê°–ëŠ”ë‹¤.  
â€» \b ë©”íƒ€ ë¬¸ìë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•´ì•¼ í•  ì ì´ ìˆë‹¤. \bëŠ” íŒŒì´ì¬ ë¦¬í„°ëŸ´ ê·œì¹™ì— ì˜í•˜ë©´ ë°±ìŠ¤í˜ì´ìŠ¤(BackSpace)ë¥¼ ì˜ë¯¸í•˜ë¯€ë¡œ ë°±ìŠ¤í˜ì´ìŠ¤ê°€ ì•„ë‹Œ ë‹¨ì–´ êµ¬ë¶„ìì„ì„ ì•Œë ¤ ì£¼ê¸° ìœ„í•´ r'\bclass\b'ì²˜ëŸ¼ Raw stringì„ì„ ì•Œë ¤ì£¼ëŠ” ê¸°í˜¸ rì„ ë¶™ì—¬ ì£¼ì–´ì•¼ í•œë‹¤.  
â€» Raw string  
ì˜ˆë¥¼ ë“¤ì–´ ì–´ë–¤ íŒŒì¼ ì•ˆì— ìˆëŠ” "\section" ë¬¸ìì—´ì„ ì°¾ê¸° ìœ„í•œ ì •ê·œì‹ì„ ë§Œë“ ë‹¤ê³  ê°€ì •í•´ ë³´ì.  
```python
>>> p = re.compile('\section')
```  
ì´ ì •ê·œì‹ì€ \s ë¬¸ìê°€ whitespaceë¡œ í•´ì„ë˜ì–´ ì˜ë„í•œ ëŒ€ë¡œ ë§¤ì¹˜ê°€ ì´ë£¨ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤.  ==> '[ \t\n\r\f\v]ection'  
ì¦‰ ìœ„ ì •ê·œì‹ì—ì„œ ì‚¬ìš©í•œ \ ë¬¸ìê°€ ë¬¸ìì—´ ìì²´ì„ì„ ì•Œë ¤ ì£¼ê¸° ìœ„í•´ ë°±ìŠ¬ë˜ì‹œ 2ê°œë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬ë¥¼ í•´ì•¼ í•œë‹¤.  
```python
>>> p = re.compile('\\section')
```
ê·¸ëŸ°ë° ì—¬ê¸°ì—ì„œ ë˜ í•˜ë‚˜ì˜ ë¬¸ì œê°€ ë°œê²¬ëœë‹¤. ìœ„ì²˜ëŸ¼ ì •ê·œì‹ì„ ë§Œë“¤ì–´ì„œ ì»´íŒŒì¼í•˜ë©´ ì‹¤ì œ íŒŒì´ì¬ ì •ê·œì‹ ì—”ì§„ì—ëŠ” íŒŒì´ì¬ ë¬¸ìì—´ ë¦¬í„°ëŸ´ ê·œì¹™ì— ë”°ë¼ \\ì´ \ë¡œ ë³€ê²½ë˜ì–´ \sectionì´ ì „ë‹¬ëœë‹¤.  
ì´ëŸ¬í•œ ë¬¸ì œë¡œ ì¸í•´ íŒŒì´ì¬ ì •ê·œì‹ì—ëŠ” Raw String ê·œì¹™ì´ ìƒê²¨ë‚˜ê²Œ ë˜ì—ˆë‹¤.  
ì •ê·œì‹ ì•ì— rì„ ì¨ì¤Œìœ¼ë¡œì¨ ì»´íŒŒì¼í•´ì•¼ í•˜ëŠ” ì •ê·œì‹ì´ Raw Stringì„ì„ ì•Œë ¤ì¤€ë‹¤.  
```python
>>> p = re.compile(r'\\section')
```

### ()  
ABC ë¬¸ìì—´ì´ ê³„ì†í•´ì„œ ë°˜ë³µë˜ëŠ”ì§€ ì¡°ì‚¬í•˜ëŠ” ì •ê·œì‹ì„ ì‘ì„±í•˜ê³  ì‹¶ë‹¤ê³  í•˜ì.  
ì´ëŸ´ ë•Œ í•„ìš”í•œ ê²ƒì´ ë°”ë¡œ ê·¸ë£¨í•‘(Grouping) ì´ë‹¤.  
```python
>>> p = re.compile('(ABC)+')
>>> m = p.search('ABCABCABC OK?')
>>> print(m)
<re.Match object; span=(0, 9), match='ABCABCABC'>
>>> print(m.group())
ABCABCABC
```  

ë˜í•œ ê·¸ë£¹ì„ ì‚¬ìš©í•˜ëŠ” ë” í° ì´ìœ ëŠ” ë§¤ì¹˜ëœ ë¬¸ìì—´ ì¤‘ì—ì„œ íŠ¹ì • ë¶€ë¶„ì˜ ë¬¸ìì—´ë§Œ ë½‘ì•„ë‚´ê¸° ìœ„í•´ì„œì¸ ê²½ìš°ê°€ ë” ë§ë‹¤.  
```python
>>> p = re.compile(r"(\w+)\s+\d+[-]\d+[-]\d+")
>>> m = p.search("park 010-1234-1234")
>>> print(m.group(1))
park
```

|group(ì¸ë±ìŠ¤)|ì˜ë¯¸|
|---|---|
|group(0)|ë§¤ì¹˜ëœ ì „ì²´ ë¬¸ìì—´|
|group(1)|ì²« ë²ˆì§¸ ê·¸ë£¹ì— í•´ë‹¹ë˜ëŠ” ë¬¸ìì—´|
|group(2)|ë‘ ë²ˆì§¸ ê·¸ë£¹ì— í•´ë‹¹ë˜ëŠ” ë¬¸ìì—´|
|group(n)|n ë²ˆì§¸ ê·¸ë£¹ì— í•´ë‹¹ëœë“  ë¬¸ìì—´|
