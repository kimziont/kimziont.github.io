---
title:  "[ì±…] íŒŒì´ì¬ ì½”ë”©ì˜ ê¸°ìˆ  part4: ì»´í”„ë¦¬í—¨ì…˜ê³¼ ì œë„ˆë ˆì´í„°"
toc: true
toc_sticky: true
author_profile: true
sidebar_main: true
header:
  teaser: /assets/images/python.png

categories:
  - effective_python
tags:
  - python
last_modified_at: 2021-08-02
---  

# ì»´í”„ë¦¬í—¨ì…˜ê³¼ ì œë„ˆë ˆì´í„°

íŒŒì´ì¬ì—ì„œëŠ” ì»´í”„ë¦¬í—¨ì…˜ì´ë¼ëŠ” íŠ¹ë³„í•œ êµ¬ë¬¸ì„ ì‚¬ìš©í•´ ë¦¬ìŠ¤íŠ¸, ë”•ì…”ë„ˆë¦¬, ì§‘í•©ê³¼ ê°™ì€ íƒ€ì…ì˜ ìë£Œí˜•ì„ ì´í„°ë ˆì´ì…˜ í•˜ë©´ì„œ ì›ì†Œë¥¼ ë³€í˜•í•´ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì»´í”„ë¦¬í—¨ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œë¥¼ ë”ìš± ê°€ë…ì„±ì„ ë†’ì—¬ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.  

ì»´í”„ë¦¬í—¨ì…˜ ì½”ë”© ìŠ¤íƒ€ì¼ì€ ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë¡œ í™•ì¥í•  ìˆ˜ ìˆë‹¤. ì´í„°ë ˆì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³³(for ë£¨í”„, ë³„í‘œ ì‹ ë“±)ì´ë¼ë©´ ì–´ë””ì„œë‚˜ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ê²°ê³¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê³ , ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ ì¤„ì´ê³ , ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.


## Better Way 27: mapê³¼ filter ëŒ€ì‹  ì»´í”„ë¦¬í—¨ì…˜ì„ ì‚¬ìš©í•˜ë¼

```python
# 1ë²ˆì§¸ ë°©ë²•
a = [1, 2, 3, 4, 5, 6, 7]
squares = []
for i in a:
  squares.append(i ** 2)
print(squares)
------------------------------
[1, 4, 9, 16, 25, 36, 49]


# 2ë²ˆì§¸ ë°©ë²•
squares = list(map(lambda x: x ** 2, a))
print(squares)
------------------------------
[1, 4, 9, 16, 25, 36, 49]


# 3ë²ˆì§¸ ë°©ë²•
squares = [i ** 2 for i in a]
print(squares)
------------------------------
[1, 4, 9, 16, 25, 36, 49]
```

ì—¬ê¸°ê¹Œì§€ ë´¤ì„ ë•ŒëŠ”, mapì„ ì‚¬ìš©í•´ë„ ê°€ë…ì„±ì´ ê´œì°®ì•„ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ ì¡°ê±´ì´ ì¡°ê¸ˆ ë” ê¹Œë‹¤ë¡œì›Œì§€ë©´ ì»´í”„ë¦¬í—¨ì…˜ì´ ë¹›ì„ ë°œí•œë‹¤.  

ì§ìˆ˜ë§Œ ì œê³±í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  ì‹¶ì„ë•Œë¥¼ ì‚´í´ë³´ì.  

```python
a = [1, 2, 3, 4, 5, 6, 7]
even_squares = map(lambda x: x**2, filter(lambda x: x % 2 == 0, a))

even_squares = [x**2 for x in a if x % 2 == 0]
```

ë¦¬ìŠ¤íŠ¸ ë¿ ì•„ë‹ˆë¼ ë”•ì…”ë„ˆë¦¬ì™€ ì§‘í•©ì—ë„ ì»´í”„ë¦¬í—¨ì…˜ì´ ìˆë‹¤.  

```python
a = ['apple', 'banana', 'lemon']
b = [1, 5, 3]
dic = {key: value for key, value in zip(a, b)}

print(dic)
---------------------------------------------
{'apple': 1, 'banana': 5, 'lemon': 3}
```

ì°¸ê³ ë¡œ 2ì°¨ì› ë°°ì—´ ë¦¬ìŠ¤íŠ¸ë¥¼ í”Œë«í•œ ë‹¨ì¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  

```python
matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

flat = [x for row in matrix for x in row]
print(flat)
```

## Better Way 29: ëŒ€ì…ì‹(ì™ˆëŸ¬ìŠ¤ ì—°ì‚°ì)ì„ ì‚¬ìš©í•´ ì»´í”„ë¦¬í—¨ì…˜ ì•ˆì—ì„œ ë°˜ë³µ ì‘ì—…ì„ í”¼í•˜ë¼

```python
stock = {'ëª»': 125, 'ë‚˜ì‚¬ëª»': 35, 'ë‚˜ë¹„ë„ˆíŠ¸': 8, 'ì™€ì…”': 24}
order = ['ë‚˜ì‚¬ëª»', 'ë‚˜ë¹„ë„ˆíŠ¸', 'í´ë¦½']

def get_batches(count, size):
  return count // size

# ê¸°ë³¸ì ì¸ ë°©ë²•
found = {name: get_batches(stock.get(name, 0), 8) for name in order if get_batches(stock.get(name, 0), 8)}

# ì™ˆëŸ¬ìŠ¤ ì—°ì‚°ì ì´ìš©í–ˆì„ ë•Œ
found = {name: batches for name in order if (batches := get_batches(stock.get(name, 0), 8))}
```

## Better Way 30: ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ê¸°ë³´ë‹¤ëŠ” ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë¼

ë§ì€ ë°ì´í„°ì˜ ì–‘ì„ ì²˜ë¦¬í•  ë•Œ ì²˜ë¦¬í•œ ë°ì´í„°ë¥¼ ë¦¬ìŠ¤íŠ¸ì— í•œ ë²ˆì— ë‹¤ ì €ì¥í•˜ë©´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ í¬ê²Œ ì¦ê°€í•œë‹¤. ê¼­ ì €ì¥í•  í•„ìš”ê°€ ì—†ë‹¤ë©´ ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê°œì„ í•  ìˆ˜ ìˆë‹¤. ì œë„ˆë ˆì´í„°ëŠ” yieldì‹ì„ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì— ì˜í•´ ë§Œë“¤ì–´ì§„ë‹¤.  

`ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ ì œë„ˆë ˆì´í„°ê°€ ì‹¤ì œë¡œ ì‹¤í–‰ë˜ì§€ ì•Šê³ , ì¦‰ì‹œ ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜í•œë‹¤.` ì´í„°ë ˆì´í„°ëŠ” __next__() ë©”ì†Œë“œê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ ë‹¤ìŒ yield ì‹ê¹Œì§€ ì§„í–‰ì‹œí‚¨ë‹¤. yieldì—ì„œ ë°˜í™˜ëœ ê°’ì€ í˜¸ì¶œëœ ìª½ìœ¼ë¡œ ì „ë‹¬ëœë‹¤. (typeì€ í™•ì¸í•´ë³´ë©´ ì œë„ˆë ˆì´í„°ë‹¤. ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜í•œë‹¤ê³  í•´ì„œ typeì´ ì´í„°ë ˆì´í„°ì¼êº¼ë¼ ìƒê°í–ˆëŠ”ë°..)  

```python
import sys


def index_words(text):
    if text:
        yield 0
        for index, letter in enumerate(text, 1):
            if letter == ' ':
                yield index


address = 'ì»´í“¨í„°(ì˜ì–´: Computer, ë¬¸í™”ì–´: ì½¤í“¨í„°, ìˆœí™”ì–´: ì „ì‚°ê¸°)ëŠ” ì§„ê³µê´€'

it = index_words(address)
print(f'type: {type(it)}')
print(f'generator size: {sys.getsizeof(it)}')

list1 = list(it)
print(list1)
print(f'list size: {sys.getsizeof(list1)}')
------------------------------------------------------------------------
type: <class 'generator'>
generator size: 112
[0, 8, 18, 23, 28, 33, 39]
list size: 152
```

next() ë‚´ì¥í•¨ìˆ˜ê°€ ì‚¬ìš©ë˜ë©´ ì´í„°ë ˆì´í„°ì˜ ë§¤ì§ë©”ì†Œë“œì¸ __next__() ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ë©°, ì œë„ˆë ˆì´í„°ê°€ yieldì—ì„œ ë°˜í™˜í•œ ê°’ì„ ë°›ì•„ì˜¨ë‹¤  

```python
while True:
    try:
        print(next(it))
  
    except StopIteration:
        break
----------------------------------------
0
8
18
23
28
33
39
```

ì´í„°ë ˆì´í„°ëŠ” ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ë¥¼ ëª¨ë‘ ì†Œì§„í•˜ê³  ë‚˜ë©´ StopIteration ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤. ê·¸ í›„ ë‹¤ì‹œ ì´í„°ë ˆì´í„°ë¥¼ forë£¨í”„, ë¦¬ìŠ¤íŠ¸ ìƒì„±ìë¥¼ í¬í•¨í•œ í‘œì¤€ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìˆëŠ” ë§ì€ í•¨ìˆ˜ê°€ ì´í„°ë ˆì´ì…˜ ì‹œì¼œë„ StopIterationì´ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. (ë‹¤ë§Œ , next()ë¡œ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ê±°ëŠ” StopIteration ì˜ˆì™¸ ë°œìƒ) ì´ê±°ëŠ” ê°œë°œìì˜ í¸ì˜(?)ë¥¼ ìœ„í•´ forë¬¸ê³¼ ê°™ì€ ë°˜ë³µë¬¸ì„ ì˜ˆì™¸ì—†ì´ ì•Œì•„ì„œ ì¢…ë£Œì‹œí‚¤ë„ë¡ í•˜ê¸° ìœ„í•´ ê·¸ëŸ° ê²ƒ ê°™ë‹¤.  

ì°¸ê³ ë¡œ ì´í„°ë ˆì´í„°ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ê³  ì‹¶ìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ëœë‹¤.  

```python
# ì´í„°ë ˆì´í„° ìƒì„±
it = index_words(address)

# ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜
list(it)
```

## Better Way 31: ì¸ìì— ëŒ€í•´ ì´í„°ë ˆì´ì…˜ í•  ë•ŒëŠ” ë°©ì–´ì ì´ ë¼ë¼  

ì•ì—ì„œ ì´í„°ë ˆì´í„°ëŠ” í•œ ë²ˆ ë°ì´í„°ë¥¼ ì†Œì§„í•˜ê³  ë‚˜ë©´ ë” ì´ìƒ ë‹¤ì‹œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ì§€ ì•ŠëŠ”ë‹¤. ì´ë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” í¬ê²Œ ë‘ ê°€ì§€ê°€ ìˆë‹¤.  

1. ì´í„°ë ˆì´í„°ê°€ í˜¸ì¶œë˜ê³  ë°ì´í„°ë¥¼ ëª¨ë‘ ì†Œì§„í•˜ê³  í•˜ë©´ ë‹¤ì‹œ ì´í„°ë ˆì´í„°ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ë§Œë“ ë‹¤. 

```python
def read_visits(data_path):
    with open(data_path, 'r') as f:
        for line in f:
            yield int(line)


def normalize_func(get_iter):
    # ì œë„ˆë ˆì´í„° í•¨ìˆ˜ í˜¸ì¶œ í†µí•œ ìƒˆë¡œìš´ ì´í„°ë ˆì´ì…˜ ìƒì„±
    # sum()ê°™ì€ í•¨ìˆ˜ë„ ì‚¬ìš©ë˜ê³  ë‚˜ë©´ ì´í„°ë ˆì´ì…˜ ëª¨ë‘ ì†Œì§„í•¨
    total = sum(get_iter())
    result = []

    # ì œë„ˆë ˆì´í„° í•¨ìˆ˜ í˜¸ì¶œ í†µí•œ ìƒˆë¡œìš´ ì´í„°ë ˆì´ì…˜ ìƒì„±
    for value in get_iter():
        percent = 100 * value / total
        result.append(percent)
    return result

# travel_data.csvëŠ” ê·¸ëƒ¥ ìˆ«ìê°’ ì­‰ ìˆëŠ” csvíŒŒì¼
path = 'travel_data.csv'

# normalize_func()ì•ˆì— ê·¸ëƒ¥ read_visits()ë¥¼ ë„£ìœ¼ë©´ ì´í„°ë ˆì´í„°ê°€ ìƒì„±ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê·¸ëƒ¥ ê°’ì´ ë°˜í™˜ë¨
# ë‚´ ëª©ì ì€ ì œë„ˆë ˆì´í„° ìì²´ê°€ get_iterë¡œ ë“¤ì–´ê°€ê¸¸ ì›í•œë‹¤
# ê·¸ëŸ¬ë©´ get_iter() ì‹ì„ í†µí•´ ì´í„°ë ˆì´í„°ê°€ ë§Œë“¤ì–´ì§ˆ ê²ƒì´ë‹¤
# ë”°ë¼ì„œ read_visits(path) ìì²´ê°€ ì…ë ¥ìœ¼ë¡œ ë“¤ì–´ê°€ë„ë¡ í•˜ê¸°ìœ„í•´ lambdaì‹ì„ ì¨ì¤€ë‹¤
percentages = normalize_func(lambda: read_visits(path))
print((percentages))
-------------------------------------------------------------------
[0.0124, 0.0285, 0.03829, 0.0106, 0.0311, 0.0596,...]
```


2. ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì„ êµ¬í˜„í•œ ìƒˆë¡œìš´ ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ë¥¼ ì œê³µ

ì¡°ê¸ˆ ë” ê³ ìˆ˜ë“¤ì€ ëŒë‹¤ ì‹ì´ ë³´ê¸° ì¢‹ì§€ ì•Šì•„ ì œë„ˆë ˆì´í„°ë¥¼ í´ë˜ìŠ¤ë¡œ ë§Œë“ ë‹¤  

```python
class ReadVisits:
    def __init__(self, data_path):
        self.data_path = data_path

    def __iter__(self):
        with open(self.data_path) as f:
            for line in f:
                yield int(line)


def normalize(numbers):
    total = sum(numbers)
    result = []
    for value in numbers:
        percent = 100 * value / total
        result.append(percent)
    return result


visits = ReadVisits(path)
percentages = normalize(visits)
print(percentages)
-------------------------------------------------------------------
[0.0124, 0.0285, 0.03829, 0.0106, 0.0311, 0.0596,...]
```

ì´ì œ ì—¬ê¸°ì„œ ì œëª©ê³¼ ê°™ì´ ë°©ì–´ì ì´ ë¼ë¼ëŠ” ì˜ë¯¸ê°€ ë“±ì¥í•œë‹¤. ì²« ë²ˆì§¸ ë°©ë²•ì—ì„œì™€ ë‘ ë²ˆì¨° ë°©ë²•ì—ì„œ numbersë¥¼ ì¸ìë¡œ ë°›ëŠ” ë°©ë²•ì´ ë‹¤ë¥´ë‹¤. ìš°ë¦¬ëŠ” ì—¬ê¸°ì„œ ì´í„°ë ˆì´í„° ìì²´ë¥¼ ë°›ì•„ì˜¤ì§€ ì•Šê³  ë§¤ë²ˆ ìƒˆë¡œìš´ ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì œê³µí•˜ë„ë¡ í•´ì¤„ ê²ƒì´ë‹¤.  

```python
from collections.abc import Iterator

def normalize_defensive(numbers):
    if isinstance(numbers, Iterator):
        raise TpyeError('ì»¨í…Œì´ë„ˆë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤')
    
    total = sum(numbers)
    result = []
    for value in numbers:
        percent = 100 * value / total
        result.append(percent)
    return result
```  

## Better Way 36: ì´í„°ë ˆì´í„°ë‚˜ ì œë„ˆë ˆì´í„°ë¥¼ ë‹¤ë£° ë•ŒëŠ” itertoolsë¥¼ ì‚¬ìš©í•˜ë¼  

### 1) ì—¬ëŸ¬ ì´í„°ë ˆì´í„° ì—°ê²°í•˜ê¸°

```python
it = itertools.chain([1, 2, 3], [4, 5, 6])

print(list(it))
------------------------------------
[1, 2, 3, 4, 5, 6]
```

```python
it = itertools.repeat('ì•ˆë…•', 3)
print(list(it))
-----------------------------
['ì•ˆë…•', 'ì•ˆë…•', 'ì•ˆë…•']
```

```python
it = itertools.cycle([1, 2, 3])
result = [next(it) for _ in range(10)]
print(result)
------------------------------------
[1, 2, 3, 1, 2, 3, 1, 2, 3, 1]
```

```python
it1, it2, it3 = itertools.tee(['í•˜ë‚˜', 'ë‘˜'], 3)
print(list(it1))
print(list(it2))
print(list(it3))
-----------------------------
['í•˜ë‚˜', 'ë‘˜']
['í•˜ë‚˜', 'ë‘˜']
['í•˜ë‚˜', 'ë‘˜']
```

```python
keys = ['í•˜ë‚˜', 'ë‘˜', 'ì…‹']
values = [1, 2]

it = itertools.zip_longest(keys, values, fillvalue='ì—†ìŒ')
longest = list(it)
print('zip_longest:', longest)
-------------------------------------------
[('í•˜ë‚˜', 1), ('ë‘˜', 2), ('ì…‹', 'ì—†ìŒ')]
```

### 2) ì´í„°ë ˆì´í„°ì—ì„œ ì›ì†Œ ê±°ë¥´ê¸°

```python
values = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]

list1 = values[1::2]

iter1 = islice(values, 1, sys.maxsize, 2)

print(f'size_of_list: {sys.getsizeof(list1)}bytes')
print(f'size_of_iter: {sys.getsizeof(iter1)}bytes')
-----------------------------------------------------------
size_of_list: 112bytes
size_of_iter: 72bytes
```

```python
values = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]

less_than_seven = lambda x: x < 7

it = itertools.takewhile(less_than_seven, values)

print(list(it))
-------------------------------------------------------
[1, 2, 3, 4, 5, 6]
```

### 3) ì´í„°ë ˆì´í„°ì—ì„œ ì›ì†Œì˜ ì¡°í•© ë§Œë“¤ì–´ë‚´ê¸°  

```python
values = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
sum_reduce = itertools.accumulate(values)
print('í•©ê³„: ', list(sum_reduce))
í•©ê³„:  [1, 3, 6, 10, 15, 21, 28, 36, 45, 55, 66, 78, 91, 105, 120]

# ì¸ìë¡œ í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì¤„ ìˆ˜ë„ ìˆë‹¤. ì´ ë•Œ í•¨ìˆ˜ëŠ” 2ê°œì˜ ê°’ì„ ì¸ìë¡œ ë°›ì•„ í•˜ë‚˜ì˜ ê°’ì„ ë¦¬í„´í•´ì•¼ í•œë‹¤.
def sum_modulo_20(first, second):
  output = first + second
  return output % 20

modulo_reduce = itertools.accumulate(values, sum_modulo_20)
print('20ìœ¼ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ì˜ í•©ê³„: ', list(modulo_reduce))
-----------------------------------------------------------------------
20ìœ¼ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ì˜ í•©ê³„:  [1, 3, 6, 10, 15, 1, 8, 16, 5, 15, 6, 18, 11, 5, 0]
```

```python
it = itertools.permutations([1, 2, 3, 4], 2)
print(list(it))
------------------------------------------------------------------------------
[(1, 2), (1, 3), (1, 4), (2, 1), (2, 3), (2, 4), (3, 1), (3, 2), (3, 4), (4, 1), (4, 2), (4, 3)]
```

```python
it = itertools.combinations([1, 2, 3, 4], 2)
print(list(it))
------------------------------------------------------------------------------------
[(1, 2), (1, 3), (1, 4), (2, 3), (2, 4), (3, 4)]
```

```python
# ì¤‘ë³µì¡°í•©
it = itertools.combinations_with_replacement([1, 2, 3, 4], 2)
print(list(it))
----------------------------------------------------------------------------
[(1, 1), (1, 2), (1, 3), (1, 4), (2, 2), (2, 3), (2, 4), (3, 3), (3, 4), (4, 4)]
```

```
ğŸ”” forë¬¸ì— ê´€í•œ ì¢‹ì€ ì„¤ëª…

ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì€ íŒŒì´ì¬ì˜ forë£¨í”„ë‚˜ ê·¸ì™€ ì—°ê´€ëœ ì‹ë“¤ì´ ì»¨í…Œì´ë„ˆ íƒ€ì…ì˜ ë‚´ìš©ì„ ë°©ë¬¸í•  ë–„ ì‚¬ìš©í•˜ëŠ” ì ˆì°¨ë‹¤.   
íŒŒì´ì¬ì—ì„œ for x in fooì™€ ê°™ì€ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ë©´, ì‹¤ì œë¡œëŠ” iter(foo)ë¥¼ í˜¸ì¶œí•œë‹¤.  
iterë‚´ì¥ í•¨ìˆ˜ëŠ” foo.__iter__ë¼ëŠ” íŠ¹ë³„ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤.  
__iter__ë©”ì†Œë“œëŠ” ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•˜ê³ ,  
ì´í„°ë ˆì´í„° ê°ì²´ê°€ ë°ì´í„°ë¥¼ ì†Œì§„í•  ë•Œê¹Œì§€ ë°˜ë³µì ìœ¼ë¡œ ì´í„°ë ˆì´í„° ê°ì²´ì— ëŒ€í•´ next ë‚´ì¥ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. 
```